{"ast":null,"code":"import _classCallCheck from \"/Users/mac/Desktop/react/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mac/Desktop/react/my-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mac/Desktop/react/my-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mac/Desktop/react/my-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/mac/Desktop/react/my-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/mac/Desktop/react/my-app/src/component/newslist.js\";\nimport React, { Component } from 'react';\n\nvar Newslist =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Newslist, _Component);\n\n  function Newslist() {\n    var _this2;\n\n    _classCallCheck(this, Newslist);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(Newslist).call(this)); // 调用基类的所有初始化方法\n\n    _this2.state = {\n      list: []\n    };\n    return _this2;\n  }\n\n  _createClass(Newslist, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this = this;\n\n      fetch(\"http://localhost:3000/newslist\").then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        if (data.states == 200) {\n          _this.setState({\n            list: data.list\n          });\n        } else {\n          console.log(\"请求出错\");\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var items = [];\n\n      var _this = this;\n\n      if (Object.keys(_this.state.list).length > 0) {\n        var title = _this.state.list.title;\n\n        for (var i; i < title.length; i++) {\n          console.log(i);\n          items.push(React.createElement(\"li\", {\n            key: i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 31\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"news_title\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 32\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: _this.state.list.img[i].img,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 33\n            },\n            __self: this\n          }), React.createElement(\"a\", {\n            href: \"http://www.guandian.cn/\" + title[i].href,\n            target: \"_blank\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 34\n            },\n            __self: this\n          }, React.createElement(\"h3\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 35\n            },\n            __self: this\n          }, title[i].title)))));\n        }\n\n        return React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }, items);\n      } else {\n        return React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, \"\\u6682\\u65E0\\u6570\\u636E\"));\n      }\n    }\n  }]);\n\n  return Newslist;\n}(Component);\n\nexport default Newslist;","map":{"version":3,"sources":["/Users/mac/Desktop/react/my-app/src/component/newslist.js"],"names":["React","Component","Newslist","state","list","_this","fetch","then","response","json","data","states","setState","console","log","items","Object","keys","length","title","i","push","img","href"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;IAEMC,Q;;;;;AACF,sBAAc;AAAA;;AAAA;;AACV,oFADU,CACD;;AACT,WAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE;AADK,KAAb;AAFU;AAKb;;;;wCACmB;AAChB,UAAIC,KAAK,GAAG,IAAZ;;AACAC,MAAAA,KAAK,CAAC,gCAAD,CAAL,CAAwCC,IAAxC,CAA6C,UAAAC,QAAQ,EAAI;AACrD,eAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,OAFH,EAEKF,IAFL,CAEW,UAAAG,IAAI,EAAI;AACb,YAAGA,IAAI,CAACC,MAAL,IAAe,GAAlB,EAAsB;AACpBN,UAAAA,KAAK,CAACO,QAAN,CAAgB;AACZR,YAAAA,IAAI,EAAEM,IAAI,CAACN;AADC,WAAhB;AAGD,SAJD,MAIK;AACHS,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACD;AACJ,OAVH;AAWH;;;6BACQ;AACL,UAAIC,KAAK,GAAG,EAAZ;;AACA,UAAIV,KAAK,GAAG,IAAZ;;AACA,UAAGW,MAAM,CAACC,IAAP,CAAYZ,KAAK,CAACF,KAAN,CAAYC,IAAxB,EAA8Bc,MAA9B,GAAqC,CAAxC,EAA0C;AACxC,YAAIC,KAAK,GAAGd,KAAK,CAACF,KAAN,CAAYC,IAAZ,CAAiBe,KAA7B;;AACA,aAAI,IAAIC,CAAR,EAAWA,CAAC,GAACD,KAAK,CAACD,MAAnB,EAA0BE,CAAC,EAA3B,EAA8B;AAC5BP,UAAAA,OAAO,CAACC,GAAR,CAAYM,CAAZ;AACAL,UAAAA,KAAK,CAACM,IAAN,CAAY;AAAI,YAAA,GAAG,EAAED,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACV;AAAK,YAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACC;AAAK,YAAA,GAAG,EAAEf,KAAK,CAACF,KAAN,CAAYC,IAAZ,CAAiBkB,GAAjB,CAAqBF,CAArB,EAAwBE,GAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,EAEA;AAAG,YAAA,IAAI,EAAE,4BAA0BH,KAAK,CAACC,CAAD,CAAL,CAASG,IAA5C;AAAkD,YAAA,MAAM,EAAC,QAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAKJ,KAAK,CAACC,CAAD,CAAL,CAASD,KAAd,CADF,CAFA,CADU,CAAZ;AAQC;;AACH,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACFJ,KADE,CAAP;AAGD,OAhBD,MAgBK;AACH,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADG,CAAP;AAGD;AACJ;;;;EA7CkBd,S;;AAgDvB,eAAeC,QAAf","sourcesContent":["import React, { Component } from 'react';\n\nclass Newslist extends Component{\n    constructor() {\n        super(); // 调用基类的所有初始化方法\n        this.state = {\n          list: []\n        }\n    }\n    componentDidMount() {\n        var _this = this;\n        fetch(\"http://localhost:3000/newslist\").then(response => {\n            return response.json()\n          }).then( data => {\n              if(data.states == 200){\n                _this.setState ({\n                    list: data.list\n                });\n              }else{\n                console.log(\"请求出错\")\n              }\n          })\n    }\n    render() {\n        let items = [];\n        let _this = this;\n        if(Object.keys(_this.state.list).length>0){\n          var title = _this.state.list.title\n          for(let i; i<title.length;i++){\n            console.log(i);\n            items.push( <li key={i}>\n              <div className=\"news_title\">\n               <img src={_this.state.list.img[i].img}/>\n              <a href={\"http://www.guandian.cn/\"+title[i].href} target=\"_blank\">\n                <h3>{title[i].title}</h3>\n              </a>\n              </div>\n            </li>);\n            }\n          return <ul>\n              {items}\n          </ul>\n        }else{\n          return <ul>\n              <li>暂无数据</li>\n          </ul>\n        }\n    }\n}\n\nexport default Newslist;"]},"metadata":{},"sourceType":"module"}