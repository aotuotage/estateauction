{"ast":null,"code":"import _classCallCheck from \"/Users/mac/Desktop/react/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mac/Desktop/react/my-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mac/Desktop/react/my-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mac/Desktop/react/my-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/mac/Desktop/react/my-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/mac/Desktop/react/my-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/mac/Desktop/react/my-app/src/component/header.js\";\nimport React, { Component } from 'react';\nimport { createStore } from 'redux';\nimport axios from 'axios';\nimport { Provider, connect } from 'react-redux';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\nvar Header =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Header, _Component);\n\n  function Header(props) {\n    var _this2;\n\n    _classCallCheck(this, Header);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(Header).call(this, props));\n    var data;\n\n    if (sessionStorage.getItem(\"data\")) {\n      data = JSON.parse(sessionStorage.getItem(\"data\"));\n    }\n\n    _this2.getOut = _this2.getOut.bind(_assertThisInitialized(_this2));\n\n    if (data && data.isLogin == true) {\n      _this2.state = {\n        lishow: 'block',\n        blishow: 'none',\n        name: data.userInfo.uid\n      };\n    } else {\n      _this2.state = {\n        lishow: 'none',\n        blishow: 'block'\n      };\n    }\n\n    return _this2;\n  }\n\n  _createClass(Header, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var _this = this;\n\n      if (_this.props.tiger !== nextProps.tiger) {\n        if (nextProps.tiger == false) {\n          _this.setState({\n            lishow: 'none',\n            blishow: 'block'\n          });\n        } else {\n          var data = JSON.parse(sessionStorage.getItem(\"data\"));\n\n          _this.setState({\n            lishow: 'block',\n            blishow: 'none',\n            name: data.userInfo.uid\n          });\n        }\n      }\n    }\n  }, {\n    key: \"getOut\",\n    value: function getOut() {\n      var _this = this;\n\n      sessionStorage.setItem(\"data\", '');\n\n      _this.setState({\n        lishow: 'block',\n        blishow: 'none'\n      });\n\n      console.log(_this.state);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      })), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/about\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"About\")), React.createElement(\"li\", {\n        style: {\n          display: this.state.blishow\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"login\")), React.createElement(\"li\", {\n        style: {\n          display: this.state.blishow\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/register\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"register\")), React.createElement(\"li\", {\n        style: {\n          display: this.state.lishow\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"\\u6B22\\u8FCE\\uFF1A\", this.state.name), React.createElement(\"li\", {\n        onClick: this.getOut,\n        style: {\n          display: this.state.lishow\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"\\u9000\\u51FA\")));\n    }\n  }]);\n\n  return Header;\n}(Component); //需要渲染什么数据\n\n\nfunction mapStateToProps(state) {\n  return {\n    tiger: state\n  };\n} //需要触发什么行为\n\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    PayIncrease: function PayIncrease() {\n      return dispatch({\n        type: false\n      });\n    },\n    PayDecrease: function PayDecrease() {\n      return dispatch({\n        type: true\n      });\n    }\n  };\n}\n\nHeader = connect(mapStateToProps, mapDispatchToProps)(Header);\nexport default Header;","map":{"version":3,"sources":["/Users/mac/Desktop/react/my-app/src/component/header.js"],"names":["React","Component","createStore","axios","Provider","connect","BrowserRouter","Router","Route","Link","Header","props","data","sessionStorage","getItem","JSON","parse","getOut","bind","isLogin","state","lishow","blishow","name","userInfo","uid","nextProps","_this","tiger","setState","setItem","console","log","display","mapStateToProps","mapDispatchToProps","dispatch","PayIncrease","type","PayDecrease"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { createStore } from 'redux';\nimport axios from 'axios';\nimport { Provider, connect } from 'react-redux';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\nclass Header extends Component{\n    constructor(props){\n        super(props); \n        let data;\n        if(sessionStorage.getItem(\"data\")){\n          data =  JSON.parse(sessionStorage.getItem(\"data\"))\n        }\n\n        this.getOut = this.getOut.bind(this);\n        if(data && data.isLogin == true){\n          this.state = {\n            lishow: 'block',\n            blishow:'none',\n            name:data.userInfo.uid\n          }\n        }else{\n          this.state = {\n            lishow: 'none',\n            blishow:'block'\n          }\n        }\n    }\n    componentWillReceiveProps(nextProps){\n      let _this =this;\n      if (_this.props.tiger !== nextProps.tiger){\n          if(nextProps.tiger== false){\n            _this.setState({\n              lishow: 'none',\n              blishow:'block'\n            })\n          }else{\n            let data =  JSON.parse(sessionStorage.getItem(\"data\"));\n            _this.setState({\n              lishow: 'block',\n              blishow:'none',\n              name:data.userInfo.uid\n            })\n          }\n      }\n    }\n    getOut(){\n      let _this =this;\n      sessionStorage.setItem(\"data\",'');\n      _this.setState({\n        lishow: 'block',\n        blishow:'none'\n      })\n      console.log(_this.state)\n    }\n    render() {\n      return <div className=\"header\">\n        <Link to=\"/\">\n          <div className=\"logo\"></div>\n        </Link>\n        <ul>\n          <li><Link to=\"/about\">About</Link></li>\n          <li style={{display:this.state.blishow}}><Link to=\"/login\">login</Link></li>\n          <li style={{display:this.state.blishow}}><Link to=\"/register\">register</Link></li>\n          <li style={{display:this.state.lishow}}>欢迎：{this.state.name}</li>\n          <li onClick={this.getOut} style={{display:this.state.lishow}}>退出</li>\n        </ul>\n    </div>\n    }\n}\n//需要渲染什么数据\nfunction mapStateToProps(state) {\n  return {\n    tiger: state\n  }\n}\n//需要触发什么行为\nfunction mapDispatchToProps(dispatch) {\n  return {\n    PayIncrease: () => dispatch({ type: false }),\n    PayDecrease: () => dispatch({ type: true })\n  }\n}\nHeader = connect(mapStateToProps, mapDispatchToProps)(Header)\nexport default Header;"]},"metadata":{},"sourceType":"module"}